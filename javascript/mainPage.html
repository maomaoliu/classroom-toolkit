<script>
    function listClassrooms(element) {
        const keyWord = $('#classroom-key-word').val();
        google.script.run
            .withSuccessHandler(listClassroomsSuccessHandler)
            .withUserObject(element)
            .listClassrooms(keyWord, 100);
    }

    function listClassroomsSuccessHandler(response) {
        if (response.length == 0) {
            $('#classroom-list').html('没有符合条件的班级');
            return;
        }
        $('#classroom-list').html('');
        for (let i = 0; i < response.length; i++) {
            const div = $(document.createElement('div'));
            const input = $(document.createElement('input')).prop({
                type: 'radio',
                name: 'classroomList',
                value: response[i].id,
                id: response[i].id,
            });
            const nameLabel = $(document.createElement('label')).prop({
                for: response[i].id
            }).text(response[i].name);
            $(div).append(input).append(nameLabel);
            $('#classroom-list').append(div);
            showDiv('choose-classroom-button');
        }
    }

    function gotoCreateClassroomPage(element) {
        updateStatus({ listingDiv: false, creatingDiv: true });
    }
</script>